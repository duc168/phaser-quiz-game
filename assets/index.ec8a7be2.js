var U=Object.defineProperty,A=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var m=(t,e,i)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,l=(t,e)=>{for(var i in e||(e={}))q.call(e,i)&&m(t,i,e[i]);if(I)for(var i of I(e))P.call(e,i)&&m(t,i,e[i]);return t},T=(t,e)=>A(t,L(e));var s=(t,e,i)=>(m(t,typeof e!="symbol"?e+"":e,i),i);import{p as f,j as Q,r as V,R as F,a as z}from"./vendor.dc9412b7.js";const D=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}};D();const G={TICK:"tick",TIMEOUT:"timeout"};var a={DEFAULT_FONT:"CentraNo2",AUDIO:G};const k="click-choice-event",b="add-new-question-event",B="next-question-event",M="end-all-questions-event";var c={CLICK_CHOICE_EVENT:k,ADD_NEW_QUESTION_EVENT:b,NEXT_QUESTION_EVENT:B,END_ALL_QUESTIONS_EVENT:M};const O=()=>{let t=0,e=0;if(typeof window.innerWidth!="undefined")t=window.innerWidth,e=window.innerHeight;else if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!==0)t=document.documentElement.clientWidth,e=document.documentElement.clientHeight;else{const i=document.getElementsByTagName("body")[0];t=i.clientWidth,e=i.clientHeight}return{width:t,height:e}},Y=(t,e)=>{const i={align:"center",padding:{x:t/10,y:e/20},wordWrap:{width:t/4,useAdvancedWrap:!0},fixedWidth:t/2.3,fontSize:t/600+"rem"},o={x:0,y:e/2-e/4},n={fontSize:t/300+"rem",align:"center",wordWrap:{width:t},fixedWidth:t},r={x:t/32,y:e/2+e/16},u={x:t/2+t/32,y:e/2+e/16},x={x:t/32,y:e/2+e/4},g={x:t/2+t/32,y:e/2+e/4},p={x:0,y:0},_={fontSize:t/500+"rem",padding:{x:t/64,y:e/32},fixedWidth:t/12},C={x:t/2-t/16,y:e/2-e/16},w={fontSize:t/300+"rem"},y={x:t-t/10,y:0},R={fontSize:t/500+"rem",padding:{x:t/64,y:e/32},fixedWidth:t/12,fontFamily:a.DEFAULT_FONT};return{QUESTION:{STYLE:n,POINT:o},CHOICE:{STYLE:i,POINTS:{A:r,B:u,C:x,D:g}},TIMER:{STYLE:_,POINT:p},START_BUTTON:{STYLE:w,POINT:C},NUMERIC_ORDER:{STYLE:R,POINT:y}}},K=()=>{const{width:t,height:e}=O();return Y(t,e)},X=t=>"/phaser-quiz-game/"+t;class ${constructor(){s(this,"events");this.events={}}addEvent(e,i){this.events[e]=i}removeEvent(e){delete this.events[e]}emit(e,i){!this.events[e]||this.events[e](i)}}const Z=new $,J=()=>Z;var h={getViewportDimensions:O,getResponsiveData:K,getFullPath:X,getCustomEventEmitter:J};class j{constructor(e){s(this,"scene");s(this,"answer");this.scene=e}setAnswer(e){this.answer=e}getAnswer(){return this.answer}}class W{constructor(e){s(this,"SETTING",h.getResponsiveData());s(this,"choices",[]);s(this,"scene");this.scene=e}addHoverEffect(e){e&&(e.on("pointerover",()=>{e.setAlpha(.5)}),e.on("pointerout",()=>{e.setAlpha(1)}))}addOnClickHandler(e){e&&e.on("pointerdown",()=>{this.scene.game.events.emit(c.CLICK_CHOICE_EVENT,e)})}getRectangleStyle(){return T(l({},this.SETTING.CHOICE.STYLE),{backgroundColor:"#ffffff",color:"#000000",align:"center",fontFamily:a.DEFAULT_FONT})}init(e){this.choices.length===4&&this.remove(),e.length===4&&(this.choices.push(this.scene.add.text(this.SETTING.CHOICE.POINTS.A.x,this.SETTING.CHOICE.POINTS.A.y,e[0],this.getRectangleStyle())),this.choices.push(this.scene.add.text(this.SETTING.CHOICE.POINTS.B.x,this.SETTING.CHOICE.POINTS.B.y,e[1],this.getRectangleStyle())),this.choices.push(this.scene.add.text(this.SETTING.CHOICE.POINTS.C.x,this.SETTING.CHOICE.POINTS.C.y,e[2],this.getRectangleStyle())),this.choices.push(this.scene.add.text(this.SETTING.CHOICE.POINTS.D.x,this.SETTING.CHOICE.POINTS.D.y,e[3],this.getRectangleStyle())),this.choices.forEach(i=>i.setInteractive({cursor:"pointer"})),this.choices.forEach(i=>this.addHoverEffect(i)),this.choices.forEach(i=>this.addOnClickHandler(i)))}remove(){this.choices.forEach(e=>{e.removeFromDisplayList(),e.removeFromUpdateList(),e.removedFromScene(),e.removeAllListeners(),e.removeInteractive()}),this.choices=[]}}class H{constructor(e){s(this,"SETTING",h.getResponsiveData());s(this,"scene");s(this,"text");this.scene=e}hideText(){var e;(e=this.text)==null||e.setVisible(!1)}showText(){var e;(e=this.text)==null||e.setVisible(!0)}setText(e){var i;(i=this.text)==null||i.setText(e)}init(){this.text=this.scene.add.text(this.SETTING.NUMERIC_ORDER.POINT.x,this.SETTING.NUMERIC_ORDER.POINT.y,"1/1",this.SETTING.NUMERIC_ORDER.STYLE),this.hideText()}}class ee{constructor(e){s(this,"SETTING",h.getResponsiveData());s(this,"scene");s(this,"question");this.scene=e}init(e){if(this.question){this.question.setText(e);return}this.question=this.scene.add.text(this.SETTING.QUESTION.POINT.x,this.SETTING.QUESTION.POINT.y,e,T(l({},this.SETTING.QUESTION.STYLE),{fontFamily:a.DEFAULT_FONT}))}remove(){var e,i,o;(e=this.question)==null||e.removeFromDisplayList(),(i=this.question)==null||i.removeFromUpdateList(),(o=this.question)==null||o.removedFromScene(),this.question=void 0}}class te{constructor(e){s(this,"SETTING",h.getResponsiveData());s(this,"scene");s(this,"text");this.scene=e}hideText(){var e,i;(e=this.text)==null||e.setVisible(!1),(i=this.text)==null||i.disableInteractive()}showText(){var e,i;(e=this.text)==null||e.setVisible(!0),(i=this.text)==null||i.setInteractive()}init(e){this.text=this.scene.add.text(this.SETTING.START_BUTTON.POINT.x,this.SETTING.START_BUTTON.POINT.y,"Start",T(l({},this.SETTING.START_BUTTON.STYLE),{fontFamily:a.DEFAULT_FONT})),!!this.text&&(this.text.setInteractive({cursor:"pointer"}),this.text.on("pointerover",()=>{var i;(i=this.text)==null||i.setAlpha(.5)}),this.text.on("pointerout",()=>{var i;(i=this.text)==null||i.setAlpha(1)}),this.text.on("pointerdown",()=>{e()}))}}class ie{constructor(e){s(this,"SETTING",h.getResponsiveData());s(this,"scene");s(this,"text");s(this,"timerValue",0);s(this,"timerDefaultValue",0);s(this,"timerIntervalId");s(this,"audioTick");s(this,"audioTimeout");this.scene=e}showText(){var e;(e=this.text)==null||e.setVisible(!0)}hideText(){var e;(e=this.text)==null||e.setVisible(!1)}initAudio(){try{this.audioTick=this.scene.sound.add(a.AUDIO.TICK),this.audioTimeout=this.scene.sound.add(a.AUDIO.TIMEOUT)}catch(e){console.log("Error initAudio ",e)}}reset(){clearInterval(this.timerIntervalId),this.timerValue=this.timerDefaultValue,this.setText(this.timerValue+"")}init(e=0){this.initAudio(),this.timerDefaultValue=e,this.timerValue=e,this.text=this.scene.add.text(this.SETTING.TIMER.POINT.x,this.SETTING.TIMER.POINT.y,e+"",T(l({},this.SETTING.TIMER.STYLE),{fontFamily:a.DEFAULT_FONT,align:"center"})),this.hideText()}setText(e){var i;(i=this.text)==null||i.setText(e)}setInterval(e,i){this.timerIntervalId=setInterval(()=>{var o,n;!this.text||(this.timerValue--,this.setText(this.timerValue+""),this.timerValue===0?((o=this.audioTimeout)==null||o.play(),clearInterval(this.timerIntervalId),i()):((n=this.audioTick)==null||n.play(),e()))},1e3)}}class se extends f.exports.Scene{constructor(e,i){super(e);s(this,"SETTING",h.getResponsiveData());s(this,"question");s(this,"choices");s(this,"answer");s(this,"timer");s(this,"startButton");s(this,"numericOrder");s(this,"currentQuiz");this.question=new ee(this),this.choices=new W(this),this.timer=new ie(this),this.startButton=new te(this),this.numericOrder=new H(this),this.answer=new j(this)}preload(){this.load.audio(a.AUDIO.TICK,["https://firebasestorage.googleapis.com/v0/b/avid-circle-284205.appspot.com/o/autonomous-games%2Fquiz-game%2Fmixkit-game-ball-tap-2073.wav?alt=media&token=2c847ba6-42d0-438e-a67b-50a380f5c468"]),this.load.audio(a.AUDIO.TIMEOUT,["https://firebasestorage.googleapis.com/v0/b/avid-circle-284205.appspot.com/o/autonomous-games%2Fquiz-game%2Fmixkit-video-game-treasure-2066.wav?alt=media&token=51f1fe0a-5c8e-48ef-80ea-3abba1440f7e"])}addNewQuiz(e){this.currentQuiz=e}addQuiz(){if(!this.currentQuiz)return;const{question:e,choices:i,order:o,total:n}=this.currentQuiz;this.question.init(e),this.choices.init(i),this.numericOrder.setText(`${o}/${n}`),this.timer.reset(),this.startButton.hideText(),this.numericOrder.showText(),this.timer.showText(),this.timer.setInterval(()=>{},()=>{this.game.events.emit(c.NEXT_QUESTION_EVENT)})}removeQuiz(){this.question.remove(),this.choices.remove(),this.timer.hideText(),this.numericOrder.hideText()}create(){this.timer.init(5),this.startButton.init(()=>{this.game.events.emit(c.NEXT_QUESTION_EVENT)}),this.numericOrder.init(),this.game.events.on(c.ADD_NEW_QUESTION_EVENT,e=>{this.addNewQuiz(e),this.addQuiz()}),this.game.events.on(c.END_ALL_QUESTIONS_EVENT,()=>{this.startButton.showText(),this.removeQuiz()})}init(e){}}var ne={};const d=Q.exports.jsx,E="quiz-game",oe=()=>{var e;const t=document.getElementById(E);if(t){const i=t.getElementsByTagName("canvas");i.length>0&&((e=i.item(0))==null||e.remove())}},re=t=>{const{width:e,height:i}=h.getViewportDimensions(),o=new se("quiz-game",t);return new f.exports.Game({height:i-5,width:e,parent:E,backgroundColor:"#123456",scene:o,physics:{default:"arcade"}})},N=[{order:1,total:8,question:"How old are you?",choices:["100","20","30","Idk"],answer:3},{order:2,total:8,question:"Where does water come from?",choices:["Sea","Sky","Human","God"],answer:3},{order:3,total:8,question:"How old is earth?",choices:["111","6969","57575","Idk"],answer:3},{order:4,total:8,question:"How old is your father?",choices:["10","20","30","Idk"],answer:3},{order:5,total:8,question:"How old is your brother?",choices:["3","4","5","Idk"],answer:3},{order:6,total:8,question:"How old is your mother?",choices:["10","20","33","Idk"],answer:3},{order:7,total:8,question:"How old is your sister?",choices:["15","25","35","Idk"],answer:3},{order:8,total:8,question:"How old is your best friend?",choices:["20","100","31","Idk"],answer:3}];function*S(){for(let t=0;t<N.length;t++)yield N[t]}let v=S();const ae=(t,e)=>{const{value:i,done:o}=v.next();o?(e(),v=S()):t.events.emit(c.ADD_NEW_QUESTION_EVENT,i)},ce=()=>(V.exports.useEffect(()=>{oe();const t=re(N);t.events.on(c.CLICK_CHOICE_EVENT,e=>{console.log("click on ",e.text)}),t.events.on(c.NEXT_QUESTION_EVENT,()=>{ae(t,()=>{t.events.emit(c.END_ALL_QUESTIONS_EVENT)})})},[]),d("div",{className:ne.container,children:d("div",{id:E})}));function he(){return d("div",{id:"app",children:d(ce,{})})}F.render(d(z.StrictMode,{children:d(he,{})}),document.getElementById("root"));
